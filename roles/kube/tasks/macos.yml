# =============================================================================
# Kubernetes Tools - macOS
# =============================================================================
# Installs minikube with Podman as the container driver.
# Podman is rootless and daemonless - lighter than Docker Desktop.
# =============================================================================

- name: Install Podman and minikube
  homebrew:
    name:
      - podman
    state: present

- name: Install minikube
  homebrew_cask:
    name: minikube
    state: present

# Initialize Podman machine (required on macOS)
# Run manually after install:
#   podman machine init
#   podman machine start
#   minikube start --driver=podman

# kubectl, kubectx, and helm are installed via packages/macos-work.yml
# Run with: ansible-playbook -i hosts playbook.yml --tags "packages-work"
